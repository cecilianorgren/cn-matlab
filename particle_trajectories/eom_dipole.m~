function  x_res = eom_dipole(t,x_vect,m,q)

x = x_vect(1);
y = x_vect(2);
z = x_vect(3);
vx = x_vect(4);
vy = x_vect(5);
vz = x_vect(6);

%disp(sprintf('t = %g, x = %g, y = %g, z = %g',t,x,y,z))

% Electric field
Ex = 0;
Ey = 0;
Ez = 0;

% Magnetic field, Earth dipole
% Spherical:
% B = r^(-3)*(3*(k_o*r)r-k0)
% Br = -2*0*r^(-3)*sin(lambda)
% Blambda = (k0/r)*cos(theta)
% Coordinate transformation
%
%R = [sin(theta),*cos(theta)]
%%
%x = -1;
%y = 0;
%z = 1;
k0 = 8.02e15; % 8.02e15 Wb m = 0.311 G Re^3
r = sqrt(x^2 + y^2 + z^2);
polar = atand(sqrt(x^2+y^2)/z); % polar angle
el = 
phi = atan2d(x,y);

Br = -2*k0/(r^3)*cos(elev);
Btheta = k0/(r^3)*sin(elev);
Bphi = 0;

R = [sin(theta)]
%%



% Equations to be solved
x_res = zeros(6,1);
x_res(1) = vx; % dx/dt = vx;
x_res(2) = vy; % dy/dt = vy;
x_res(3) = vz; % dz/dt = vz;
x_res(4) = (q/m)*(Ex + vy*Bz - vz*By);
x_res(5) = (q/m)*(Ey + vz*Bx - vx*Bz);
x_res(6) = (q/m)*(Ez + vx*By - vy*Bx);                                              

